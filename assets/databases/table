flag want royal brand orbit remember focus boy delay blossom blue also

CREATE TABLE account (
    account_id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    username VARCHAR2(50) UNIQUE NOT NULL,
    password VARCHAR2(100) NOT NULL,
    mnemonic VARCHAR2(200) UNIQUE NOT NULL,
    created_at DATE DEFAULT SYSDATE
); 

create table products (
    product_id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name varchar2(100),
    description varchar2(1000),
    launched_at date,
    current_price number,
    discount number(2,2),
    image varchar2(100),
    developer varchar2(50),
    publisher varchar2(50), 
    file_size varchar2(4)
    );

CREATE TABLE product_media (
    media_id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    product_id NUMBER NOT NULL REFERENCES products(product_id) ON DELETE CASCADE,
    media_url VARCHAR2(255) NOT NULL,
    media_type VARCHAR2(10) CHECK (media_type IN ('image', 'video')),
    uploaded_at DATE DEFAULT SYSDATE
    );


CREATE TABLE cart (
    cart_id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    account_id NUMBER NOT NULL,
    product_id NUMBER NOT NULL,
    quantity NUMBER DEFAULT 1 CHECK (quantity = 1),
    FOREIGN KEY (account_id) REFERENCES account(account_id),
    FOREIGN KEY (product_id) REFERENCES products(product_id),
    CONSTRAINT unique_account_product UNIQUE (account_id, product_id)
);

CREATE TABLE LIBRARY (
    library_id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,    
    product_Id NUMBER(8) NOT NULL,
    account_id NUMBER(12) NOT NULL,
    purchase_date TIMESTAMP WITH LOCAL TIME ZONE,
    FOREIGN KEY (product_id) REFERENCES products(product_id),
    FOREIGN KEY (account_id) REFERENCES account(account_id),
    CONSTRAINT unique_cart UNIQUE (account_id, product_id)
);

CREATE TABLE transaction (
    transaction_id NUMBER(20) As PRIMARY KEY;
    account_id NUMBER(12) NOT NULL,
    product_id NUMBER(8) NOT NULL,
    payment_status VARCHAR2(20) DEFAULT 'pending' NOT NULL,
    token_id VARCHAR2(50) NOT NULL,
    price_at_checkout NUMBER(10, 2)
    transaction_date TIMESTAMP WITH LOCAL TIME,
    FOREIGN KEY (account_id) REFERENCES account(account_id),
    FOREIGN KEY (product_id) REFERENCES products(product_id)
);


INSERT INTO product_media (product_id, media_url, media_type) 
VALUES (62, '', 'video');

INSERT INTO product_media (product_id, media_url, media_type) 
VALUES (62, '', 'image');
